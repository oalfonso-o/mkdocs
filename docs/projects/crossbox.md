# Crossbox - App to handle reservations of [crossboxpalau.com](https://www.crossboxpalau.com)


## What is this
Crossbox is a Crossfit gym a friend of mine opened and this project is an App to handle everything realted to its management.
Users can register, select a plan, introduce their payment method, book sessions, etc.

Other applications more professional do the same with many more features like [AimHarder](https://aimharder.com/?lang=en) or [WodBuster](https://wodbuster.com/).

This app starts when the gym just started, initially was a formal replacement for the ongoing [Doodle](https://doodle.com/en/) that worked fine, but at some point it couldn't scale.

Unfortunately, after 4 years of good service and developing multiple extra features for this application, we decided to deprecate this app in favor of WodBuster, a much more mature solution with a better trade-off between cost and features. So now this application is not anymore in production but it has been successfully up and running this whole time without not even a single day down.

<figure markdown>
  ![Landing page](../assets/crossbox_landing.png){: .center loading=lazy width=30% }
  <figcaption>Landing page, here users can see and book sessions</figcaption>
</figure>

!!! info ""

    Everything is in Spanish as this app never was intended to have translations, all users wanted the app to be in Spanish.

## Local installation

You can read the readme in the [github page](https://github.com/oalfonso-o/crossbox).

## Usage
### Users
#### Admin
Admins are Django admin users who can access everything, define the week session templates, the price of the sessions, etc. Manage everything, like a typical admin, nothing special.

#### Normal User (client)
This is what you have when you register as a new client.

### Admin usage
#### App
In order to facilitate the creation of sessions with the different conditions that a session can have, there are multiple models and view that are implemented to make this weekly process a bit more smooth and fast.
##### Configure sessions
The main idea here was to generate templates with all the sessions for a week and then being able to apply these templates to the upcoming weeks ondemand, because with pandemic and other factors there was a need to changing the sessions from one week to the other.
###### Template
First we have to create a template from the Admin page, in the Week Template view. In the admin page we will see it empty and now we have to go to the view of the app to configure it.
###### Configure one session
At the top of the landing page we can see a button called "Configure Sessions", we click there and then we have our week view with a selector of week templates. We pick our template and then we are free to start configuring it.

<figure markdown>
  ![Configure Sessions view](../assets/crossbox_conf_sessions.png){: .center loading=lazy width=30% }
  <figcaption>Configure Sessions view</figcaption>
</figure>

Here we can configure sessions by each day/hour that we have created in our Admin page. If you can't see any day/hour you need to go to the admin page and create the days/hours that the gym is going to offer sessions.

If we focus on one session we see this:
![Single session](../assets/crossbox_conf_sessions_one_session.png){: .center loading=lazy width=30% }
A session has:

- Day: this can't be selected, the sessions are generated by the permutation of days/hours
- Hour: the same as Day
- Active: We can activate or deactivate those sessions that we want to create with this template. It's controlled with the little check (*:material-check:*) at the bottom. When active it passes to be  <span style="color:#0fd90f">**green**</span> and the cell changes it's color to <span style="background-color:blanchedalmond">blanchedalmond</span>
- Mornings Discount: it's that checkbox with a dollar emoji (:material-currency-usd:). This is used to flag those sessions that belong to the "morning users plan". They pay a bit less monthly but they can't go to the afternoon sessions, only the ones in the morning which are less crowded.
- Session type: It's where it says "WOD", sessions can have different types of trainings and that's informed to the users with this field.
- Session capactiy: The minimum and maximum amount of users registered for that session. Less than that number means that session is not going to be done, and once reached the limit nobody else can join. The upper limit doesn't need to be explained but the bottom limit is to avoid doing sessions for not enough people that doesn't generate enough profit.

###### Generate sessions
##### Change type of session
#### Admin
Django admin view:
<figure markdown>
  ![Admin view](../assets/crossbox_admin.png){: .center loading=lazy width=30% }
  <figcaption>Admin view</figcaption>
</figure>

##### User
##### Subscriber
##### CapacityLimit
##### Day
##### Hour
##### Fee
##### Track
##### SessionType
##### Session
##### SessionTemplate
##### WeekTemplate
##### Reservation
##### Card
##### Payment
### User Usage
#### Login
##### Register
##### Restore password
##### Login
##### Logout
#### Profile
##### Payment method
##### Fees
#### Sessions
##### Create a reservation
### Monthly payments